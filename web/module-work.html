<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-i18n="work_title">–†–∞–±–æ—Ç–∞</title>
  <link rel="stylesheet" href="./styles.css">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    .contract-selector {
      margin: 16px 0;
    }
    
    .contract-selector label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--text);
    }
    
    .contract-selector select {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid var(--line);
      border-radius: 12px;
      background: var(--card);
      color: var(--text);
      font-size: 16px;
      transition: all 0.2s;
    }
    
    .contract-selector select:focus {
      outline: none;
      border-color: var(--brand);
      box-shadow: 0 0 0 3px rgba(177, 255, 140, 0.1);
    }
    
    .contract-info {
      margin-top: 20px;
      padding: 20px;
      background: var(--card);
      border-radius: 16px;
      border-left: 4px solid var(--brand);
    }
    
    .contract-type-info h3 {
      margin: 0 0 16px 0;
      color: var(--brand);
      font-size: 20px;
      font-weight: 700;
    }
    
    .info-section {
      margin-bottom: 16px;
    }
    
    .info-section h4 {
      margin: 0 0 8px 0;
      color: var(--text);
      font-size: 16px;
      font-weight: 600;
    }
    
    .insurance-info {
      background: rgba(51, 214, 158, 0.1);
      padding: 12px 16px;
      border-radius: 8px;
      margin: 0;
      font-weight: 600;
      color: var(--ok);
      border: 1px solid rgba(51, 214, 158, 0.2);
    }
    
    .info-section ul {
      margin: 0;
      padding-left: 20px;
    }
    
    .info-section li {
      margin-bottom: 4px;
      color: var(--muted);
    }

    /* –ù–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è */
    .requirement-item {
      margin-bottom: 20px;
      padding: 16px;
      background: rgba(177, 255, 140, 0.05);
      border-radius: 12px;
      border: 1px solid rgba(177, 255, 140, 0.1);
    }

    .requirement-title {
      font-weight: 700;
      font-size: 16px;
      color: var(--text);
      margin-bottom: 8px;
    }

    .requirement-value {
      color: var(--muted);
      font-size: 14px;
    }

    .requirement-details {
      margin-top: 8px;
    }

    .salary-item {
      margin-bottom: 4px;
    }

    .salary-amount {
      font-weight: 600;
      color: var(--brand);
      font-size: 16px;
    }

    .salary-note {
      color: var(--muted);
      font-size: 14px;
      margin-top: 4px;
    }

    .legality-item, .insurance-item {
      color: var(--muted);
      font-size: 14px;
      margin-bottom: 4px;
    }

    .documents-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 12px;
      margin-top: 16px;
    }

    .document-item {
      padding: 12px 16px;
      background: rgba(177, 255, 140, 0.05);
      border-radius: 8px;
      border: 1px solid rgba(177, 255, 140, 0.1);
      font-size: 14px;
      color: var(--text);
      text-align: center;
    }

    .warning-card {
      background: rgba(255, 107, 107, 0.05);
      border: 1px solid rgba(255, 107, 107, 0.2);
    }

    .rejection-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 12px;
      margin-top: 16px;
    }

    .rejection-item {
      padding: 12px 16px;
      background: rgba(255, 107, 107, 0.1);
      border-radius: 8px;
      border: 1px solid rgba(255, 107, 107, 0.2);
      font-size: 14px;
      color: var(--danger);
      text-align: center;
    }

    .button-group {
      margin-top: 16px;
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
    .contract-description {
      color: var(--muted);
      font-size: 14px;
      margin-bottom: 16px;
    }

    .contract-details-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 12px;
      margin-bottom: 20px;
    }

    .detail-item {
      padding: 12px;
      background: rgba(177, 255, 140, 0.05);
      border-radius: 8px;
      border: 1px solid rgba(177, 255, 140, 0.1);
    }

    .detail-label {
      font-weight: 600;
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 4px;
    }

    .detail-value {
      font-weight: 600;
      color: var(--text);
      font-size: 14px;
    }

    .documents-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 8px;
      margin-top: 12px;
    }

    .documents-list .document-item {
      padding: 8px 12px;
      background: rgba(177, 255, 140, 0.05);
      border-radius: 6px;
      border: 1px solid rgba(177, 255, 140, 0.1);
      font-size: 13px;
      text-align: center;
    }

    .requirements-list {
      margin-top: 12px;
    }

    .requirements-list .requirement-item {
      padding: 8px 12px;
      background: rgba(177, 255, 140, 0.05);
      border-radius: 6px;
      border: 1px solid rgba(177, 255, 140, 0.1);
      font-size: 13px;
      margin-bottom: 6px;
      color: var(--text);
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1 data-i18n="work_title">–†–∞–±–æ—Ç–∞</h1>
      <div class="lang">
        <button data-lang="ru" class="active">RU</button>
        <button data-lang="ua">UA</button>
        <button data-lang="by">BY</button>
      </div>
    </div>

    <!-- –û–ø–∏—Å–∞–Ω–∏–µ -->
    <div class="card">
      <div class="h2" data-i18n="work_description">–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ç—Ä—É–¥–æ–≤–æ–º—É –¥–æ–≥–æ–≤–æ—Ä—É</div>
      <div class="p" data-i18n="work_description_text">
        –î–ª—è –ø–æ–¥–∞—á–∏ –Ω–∞ –∫–∞—Ä—Ç—É –ø–æ–±—ã—Ç—É –ø–æ —Ä–∞–±–æ—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–º–µ—Ç—å –¥–µ–π—Å—Ç–≤—É—é—â–∏–π —Ç—Ä—É–¥–æ–≤–æ–π –¥–æ–≥–æ–≤–æ—Ä, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –≤—Å–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –ø–æ–ª—å—Å–∫–æ–≥–æ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞.
      </div>
    </div>

    <!-- –í—ã–±–æ—Ä —Ç–∏–ø–∞ –¥–æ–≥–æ–≤–æ—Ä–∞ -->
    <div class="card">
      <div class="h2" data-i18n="work_contract_type">üìã –¢–∏–ø –¥–æ–≥–æ–≤–æ—Ä–∞</div>
      <div class="contract-selector">
        <label for="contractType" data-i18n="work_select_contract">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Ç–∏–ø –¥–æ–≥–æ–≤–æ—Ä–∞:</label>
        <select id="contractType" onchange="updateContractInfo()">
          <option value="" data-i18n="work_select_placeholder">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –¥–æ–≥–æ–≤–æ—Ä–∞</option>
          <option value="uop" data-i18n="work_contract_uop">Umowa o Pracƒô</option>
          <option value="zlecenie" data-i18n="work_contract_zlecenie">Umowa Zlecenia</option>
          <option value="dzielo" data-i18n="work_contract_dzielo">Umowa o Dzie≈Ço</option>
        </select>
      </div>
      
      <div id="contractInfo" class="contract-info" style="display: none;">
        <div id="contractDetails"></div>
      </div>
    </div>




    <!-- AI –ø—Ä–æ–≤–µ—Ä–∫–∞ -->
    <div class="card">
      <div class="h2" data-i18n="work_ai_title">ü§ñ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å AI</div>
      <div class="p" data-i18n="work_ai_description">
        –ù–∞—à AI-–ø–æ–º–æ—â–Ω–∏–∫ –ø–æ–º–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞—à —Ç—Ä—É–¥–æ–≤–æ–π –¥–æ–≥–æ–≤–æ—Ä –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –¥–ª—è –ø–æ–¥–∞—á–∏ –Ω–∞ –∫–∞—Ä—Ç—É –ø–æ–±—ã—Ç—É.
      </div>
      <div class="button-group">
        <button class="btn btn-primary" onclick="checkDocument()" data-i18n="work_check_document">
          –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç —á–µ—Ä–µ–∑ AI
        </button>
      </div>
    </div>
  </div>

  <div class="tabs">
    <a class="tab" href="./translator.html" data-i18n="nav_translator">–ü–µ—Ä–µ–≤–æ–¥—á–∏–∫</a>
    <a class="tab" href="./checklist.html" data-i18n="nav_checklist">–ß–µ–∫–ª–∏—Å—Ç</a>
    <a class="tab" href="./consultant.html" data-i18n="nav_consultant">–ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç</a>
  </div>

  <script type="module">
    import { $$, i18n, storage } from './utils.js';
    
    // –î–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–æ–≥–æ–≤–æ—Ä–æ–≤
    const contractData = {
      uop: {
        title: 'Umowa o Pracƒô',
        description: '–¢—Ä—É–¥–æ–≤–æ–π –¥–æ–≥–æ–≤–æ—Ä —Å –ø–æ–ª–Ω–æ–π –∑–∞–Ω—è—Ç–æ—Å—Ç—å—é',
        insurance: 'ZUS (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–µ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ)',
        salary: '‚â• 4666 –∑–ª. –±—Ä—É—Ç—Ç–æ/–º–µ—Å. (2025)',
        duration: '–ú–∏–Ω–∏–º—É–º 3 –º–µ—Å—è—Ü–∞',
        scope: '–ü–æ–ª–Ω–∞—è –∏–ª–∏ —á–∞—Å—Ç–∏—á–Ω–∞—è –∑–∞–Ω—è—Ç–æ—Å—Ç—å —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —á–∞—Å–æ–≤',
        documents: [
          'üìã –î–æ–≥–æ–≤–æ—Ä o pracƒô',
          'üìé Za≈ÇƒÖcznik nr 1', 
          'üìú –ö–æ–ø–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è/o≈õwiadczenie',
          'üè† –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∂–∏–ª—å—è',
          'üì∏ –§–æ—Ç–æ',
          'üßæ –ö–≤–∏—Ç–∞–Ω—Ü–∏—è 440 –∑–ª.'
        ],
        requirements: [
          '–£–∫–∞–∑–∞—Ç—å –æ–±—ä–µ–º —Ä–∞–±–æ—Ç—ã (–ø–æ–ª–Ω—ã–π/—á–∞—Å—Ç–∏—á–Ω—ã–π, —á–∞—Å—ã)',
          '–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞—Ä–ø–ª–∞—Ç–∞: 4666 –∑–ª. –±—Ä—É—Ç—Ç–æ/–º–µ—Å.',
          '–ú–æ–∂–Ω–æ —Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Ö–æ–¥—ã –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–æ–≥–æ–≤–æ—Ä–æ–≤',
          '–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ ZUS'
        ]
      },
      zlecenie: {
        title: 'Umowa Zlecenia',
        description: '–î–æ–≥–æ–≤–æ—Ä –ø–æ—Ä—É—á–µ–Ω–∏—è',
        insurance: 'ZUS (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–µ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ)',
        salary: '‚â• 4666 –∑–ª. –±—Ä—É—Ç—Ç–æ/–º–µ—Å. (2025) –ò ‚â• 30,20 –∑–ª./—á–∞—Å',
        duration: '–ú–∏–Ω–∏–º—É–º 3 –º–µ—Å—è—Ü–∞',
        scope: '–ó–Ω–∞—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –Ω–æ –∑–∞–∫–æ–Ω —Ç—Ä–µ–±—É–µ—Ç –æ—Ç —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —á–∏—Å–ª–∞ —á–∞—Å–æ–≤ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤ –¥–æ–≥–æ–≤–æ—Ä–µ —Ä–∞–±–æ—Ç—ã',
        documents: [
          'üìã –î–æ–≥–æ–≤–æ—Ä zlecenie',
          'üìé Za≈ÇƒÖcznik nr 1',
          'üìú –ö–æ–ø–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è/o≈õwiadczenie', 
          'üè† –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∂–∏–ª—å—è',
          'üì∏ –§–æ—Ç–æ',
          'üßæ –ö–≤–∏—Ç–∞–Ω—Ü–∏—è 440 –∑–ª.'
        ],
        requirements: [
          '–ó–Ω–∞—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –Ω–æ –∑–∞–∫–æ–Ω —Ç—Ä–µ–±—É–µ—Ç –æ—Ç —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —á–∏—Å–ª–∞ —á–∞—Å–æ–≤ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤ –¥–æ–≥–æ–≤–æ—Ä–µ —Ä–∞–±–æ—Ç—ã',
          '–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞—Ä–ø–ª–∞—Ç–∞: 4666 –∑–ª. –±—Ä—É—Ç—Ç–æ/–º–µ—Å. –ò 30,20 –∑–ª./—á–∞—Å',
          '–ú–æ–∂–Ω–æ —Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Ö–æ–¥—ã –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–æ–≥–æ–≤–æ—Ä–æ–≤',
          '–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ ZUS'
        ]
      },
      dzielo: {
        title: 'Umowa o Dzie≈Ço',
        description: '–î–æ–≥–æ–≤–æ—Ä –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è',
        insurance: '–ß–∞—Å—Ç–Ω—ã–π –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –ø–æ–ª–∏—Å',
        salary: '‚â• 4666 –∑–ª. –±—Ä—É—Ç—Ç–æ/–º–µ—Å. (2025) –ò ‚â• 30,20 –∑–ª./—á–∞—Å',
        duration: '–ú–∏–Ω–∏–º—É–º 3 –º–µ—Å—è—Ü–∞',
        scope: '–£–∫–∞–∑–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ/–ø—Ä–æ–µ–∫—Ç',
        documents: [
          'üìã –î–æ–≥–æ–≤–æ—Ä o dzie≈Ço',
          'üìé Za≈ÇƒÖcznik nr 1',
          'üìú –ö–æ–ø–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è/o≈õwiadczenie',
          'üè† –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∂–∏–ª—å—è', 
          'üì∏ –§–æ—Ç–æ',
          'üßæ –ö–≤–∏—Ç–∞–Ω—Ü–∏—è 440 –∑–ª.',
          'üè• –ü–æ–ª–∏—Å –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–≥–æ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è'
        ],
        requirements: [
          '–£–∫–∞–∑–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ –∏–ª–∏ –ø—Ä–æ–µ–∫—Ç',
          '–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞—Ä–ø–ª–∞—Ç–∞: 4666 –∑–ª. –±—Ä—É—Ç—Ç–æ/–º–µ—Å. –ò 30,20 –∑–ª./—á–∞—Å',
          '–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: —á–∞—Å—Ç–Ω—ã–π –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –ø–æ–ª–∏—Å',
          '–ú–æ–∂–Ω–æ —Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Ö–æ–¥—ã –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–æ–≥–æ–≤–æ—Ä–æ–≤'
        ]
      }
    };

    function updateContractInfo() {
      const select = document.getElementById('contractType');
      const contractInfo = document.getElementById('contractInfo');
      const contractDetails = document.getElementById('contractDetails');
      
      if (!select || !contractInfo || !contractDetails) {
        console.log('Elements not found');
        return;
      }
      
      if (!select.value) {
        contractInfo.style.display = 'none';
        return;
      }
      
      const data = contractData[select.value];
      if (!data) {
        console.log('No data for contract type:', select.value);
        return;
      }
      
      // –ü–æ–ª—É—á–∞–µ–º –ø–µ—Ä–µ–≤–æ–¥—ã —Å fallback
      const salaryLabel = (window.i18n && window.i18n.t) ? window.i18n.t('work_salary_label') : 'üí∞ –ó–∞—Ä–ø–ª–∞—Ç–∞:';
      const durationLabel = (window.i18n && window.i18n.t) ? window.i18n.t('work_duration_label') : '‚è∞ –°—Ä–æ–∫:';
      const scopeLabel = (window.i18n && window.i18n.t) ? window.i18n.t('work_scope_label') : 'üìä –û–±—ä–µ–º —Ä–∞–±–æ—Ç—ã:';
      const insuranceLabel = (window.i18n && window.i18n.t) ? window.i18n.t('work_insurance_label') : 'üè• –°—Ç—Ä–∞—Ö–æ–≤–∫–∞:';
      const documentsTitle = (window.i18n && window.i18n.t) ? window.i18n.t('work_documents_title') : 'üìã –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:';
      const requirementsTitle = (window.i18n && window.i18n.t) ? window.i18n.t('work_requirements_title') : '‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:';
      
      contractDetails.innerHTML = `
        <div class="contract-type-info">
          <h3>${data.title}</h3>
          <p class="contract-description">${data.description}</p>
          
          <div class="contract-details-grid">
            <div class="detail-item">
              <div class="detail-label">${salaryLabel}</div>
              <div class="detail-value">${data.salary}</div>
            </div>
            <div class="detail-item">
              <div class="detail-label">${durationLabel}</div>
              <div class="detail-value">${data.duration}</div>
            </div>
            <div class="detail-item">
              <div class="detail-label">${scopeLabel}</div>
              <div class="detail-value">${data.scope}</div>
            </div>
            <div class="detail-item">
              <div class="detail-label">${insuranceLabel}</div>
              <div class="detail-value">${data.insurance}</div>
            </div>
          </div>
          
          <div class="info-section">
            <h4>${documentsTitle}</h4>
            <div class="documents-list">
              ${data.documents.map(doc => `<div class="document-item">${doc}</div>`).join('')}
            </div>
          </div>
          
          <div class="info-section">
            <h4>${requirementsTitle}</h4>
            <div class="requirements-list">
              ${data.requirements.map(req => `<div class="requirement-item">${req}</div>`).join('')}
            </div>
          </div>
        </div>
      `;
      
      contractInfo.style.display = 'block';
      console.log('Contract info updated for:', select.value);
    }

    // –î–µ–ª–∞–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ
    window.$$ = $$;
    window.i18n = i18n;
    window.storage = storage;
    window.updateContractInfo = updateContractInfo;

    function bindLang(){ 
      $$('.lang button').forEach(b=> b.onclick = async ()=> {
        await i18n.load(b.dataset.lang);
        highlightLang();
        // –û–±–Ω–æ–≤–ª—è–µ–º –¥—Ä–æ–ø–¥–∞—É–Ω –ø—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞
        updateContractInfo();
      }); 
    }

    function highlightLang(){ 
      $$('.lang button').forEach(b=> b.classList.toggle('active', b.dataset.lang===i18n.lang)); 
    }

    function initTG(){ 
      const tg = window.Telegram && window.Telegram.WebApp; 
      if(!tg) return; 
      tg.expand(); 
      tg.ready(); 
    }

    async function boot(){
      initTG();
      bindLang();
      await i18n.load(storage.get('lang','ru'));
      highlightLang();
      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –¥—Ä–æ–ø–¥–∞—É–Ω –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
      updateContractInfo();
      
      // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è change –¥–ª—è –¥—Ä–æ–ø–¥–∞—É–Ω–∞
      const contractSelect = document.getElementById('contractType');
      if (contractSelect) {
        contractSelect.addEventListener('change', updateContractInfo);
      }
    }

    document.addEventListener('DOMContentLoaded', boot);
    window.addEventListener('pageshow', boot);
  </script>

  <script>
    function checkDocument() {
      // –ó–∞–≥–ª—É—à–∫–∞ –¥–ª—è AI –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
      alert('–§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ AI –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è');
    }
  </script>
</body>
</html>
