:root{
  --bg:#0f1115;--card:#171a21;--text:#e7eaf0;--muted:#9aa3b2;--brand:#B1FF8C;--ink:#0b0e11;--line:#242936;
  --danger:#ff6b6b;--ok:#33d69e;--warn:#ffb84d;--btn-h:52px;--radius:16px;--pad:16px;
}
@media (prefers-color-scheme: light){
  :root{--bg:#ffffff;--card:#f6f7fb;--text:#0b0e11;--muted:#5b6472;--brand:#2CCB5E;--ink:#ffffff;--line:#e6e8ef}
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;background:var(--bg);color:var(--text);
  font:16px/1.5 system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  overflow-x:hidden;                 /* ⬅️ не даём горизонтальному скроллу ломать макет */
}
a{color:inherit}
button{font:inherit}

.container{
  width:100%;                        /* ⬅️ всегда вписываемся в вьюпорт */
  max-width:720px;
  margin:0 auto;
  padding:calc(env(safe-area-inset-top,0) + var(--pad)) var(--pad) calc(env(safe-area-inset-bottom,0) + var(--pad));
}

.screen{min-height:100svh;display:flex;flex-direction:column}
.card{
  background:var(--card);border:1px solid var(--line);border-radius:var(--radius);padding:16px;
  max-width:100%;                    /* ⬅️ карточки не расширяют контейнер */
  overflow-wrap:anywhere;            /* ⬅️ переносим длинные слова/строки */
  word-break:break-word;
}
.h1{font-size:22px;font-weight:700;margin:0 0 12px}
.h2{font-size:18px;font-weight:700;margin:12px 0}
.p{margin:8px 0;color:var(--text)}
.muted{color:var(--muted)}

.row{display:flex;gap:12px;align-items:center;max-width:100%}
.col{display:flex;flex-direction:column;gap:8px;max-width:100%}

.input,select,textarea{
  width:100%;padding:12px 14px;border-radius:12px;border:1px solid var(--line);background:transparent;color:var(--text);
  max-width:100%;                    /* ⬅️ поля не «выпирают» шире контейнера */
  overflow-wrap:anywhere;
  word-break:break-word;
}
textarea{min-height:120px;resize:vertical}

.btn{
  height:var(--btn-h);display:inline-flex;align-items:center;justify-content:center;padding:0 16px;border-radius:14px;border:1px solid var(--line);background:var(--brand);color:#0b0e11;font-weight:700;cursor:pointer;
  max-width:100%;
}
.btn.secondary{background:transparent;color:var(--text)}
.btn.full{width:100%}

/* ⬇️ порядок слоёв — чтобы футер не перекрывал хедер/языки */
.header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;position:relative;z-index:3;max-width:100%}
.lang{display:flex;gap:6px;position:relative;z-index:4}
.lang button{height:30px;padding:0 10px;border-radius:8px;border:1px solid var(--line);background:transparent;color:var(--text);cursor:pointer}
.lang button.active{background:var(--brand);color:#0b0e11;border-color:transparent}
.footer{margin-top:auto;position:sticky;bottom:0;background:linear-gradient(180deg, rgba(0,0,0,0) 0%, var(--bg) 30%);padding-top:16px;z-index:2}

.progress{height:10px;background:var(--card);border:1px solid var(--line);border-radius:999px;overflow:hidden}
.progress>span{display:block;height:100%;background:var(--brand);width:0%}
.tabs{display:flex;gap:8px;position:sticky;bottom:0;background:var(--card);border-top:1px solid var(--line);padding:8px;max-width:100%}
.tab{flex:1;height:44px;border-radius:12px;border:1px solid var(--line);display:flex;align-items:center;justify-content:center;background:transparent;color:var(--text);text-decoration:none}
.badge{display:inline-block;padding:2px 8px;border-radius:999px;background:var(--line);color:var(--muted);font-size:12px}
.list{display:flex;flex-direction:column;gap:10px}
.item{display:flex;gap:12px;align-items:center;padding:12px;border:1px solid var(--line);border-radius:12px;background:transparent;max-width:100%}
.item a{text-decoration:none;max-width:100%}
.checkbox{width:22px;height:22px;border-radius:6px;border:1px solid var(--line);display:flex;align-items:center;justify-content:center}
.checkbox.done{background:var(--ok);border-color:var(--ok);color:#000}
hr{border:0;border-top:1px solid var(--line);margin:12px 0}
small{color:var(--muted)}
.hidden{display:none}

/* ================================
   Спец-правки для translator.html
   ================================ */
#result_label{display:none;margin-top:16px}
#out{                 /* блок результата скрыт до первого ответа */
  display:none;
  min-height:0 !important;
  height:auto !important;
  max-height:none !important;
  padding:12px 14px !important;   /* компактнее, чтобы текст начинался сверху */
  margin-top:8px;
  white-space:pre-wrap;
  line-height:1.45;
  overflow-wrap:anywhere;          /* ⬅️ важное: ломаем длинные куски текста */
  word-break:break-word;
}
#out.show{display:block}
#out_text{margin:0 !important;padding:0 !important;display:block}
